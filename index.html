<!DOCTYPE html>
<html>
  <head>
    <script type = "text/jscript" src="papaparse.min.js"></script>
    <meta charset = "utf-8">
    <meta name = "viewport" content = "width = device-width, initial-scale = 1.0">
    <title>Welcome</title>
    <link rel = "stylesheet" href="home.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
    <script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
  </head>


    <header>
      <div class = "bg-image shadow-2-strong" style="background-image: url('StephTrophy.jpeg');
      height: 100vh; width: 200vh;">
          <div class = "container d-flex align-items-center justify-content-center text-center h-100">
            <div class = "text-white">
              <h1 class = "mb-3" id = "Scroll-Text">Scroll Down for Predicted NBA Stats</h1>
            </div>
          </div>
      </div>
    </header>
    
    <main class = "mt-5">
      <div class = "container h-100" id = "main-header" style = "background-color: rgba(70, 59, 59, 0.259);">
        <section>
          <div class = "row">
            <div class = "text-center"> 
              <h1>Enter a Player Below</h1>
            </div>
            <div class = "row"></div>
            <h3 class = "text-center">Make sure the name is spelled right and capitalized before pressing submit!</h3>
          </div>
          <div class = "row justify-content-center">
          <div class = "text-center">
          <form class = "form-group">
            <input type="text" placeholder="Search..." name="search" id = "stats-select">
            <button type="button" id = 'submit-button'>Submit</button>
          </form>
          </div>
          <div>
            <table class = "table table-responsive" id = "table-locator">
              <tr>
                <th>Name</th>
                <th>PPG</th>
                <th>APG</th>
                <th>RBG</th>
                <th>FG%</th>
                <th>3PT%</th>
                <th>FT%</th>
              </tr>
            </table>
          </div>
          </div>
          <div class = "text-center">
            <h2 id = "email"> A Brett Kessler production, email <a id = "link" href = "mailto: brettekessler@gmail.com">here</a> </h2>
          </div>
        </section>

      </div>
    </main>


  <script type = "text/javascript">

  console.log("hello");

    let submit_button = document.getElementById('submit-button').addEventListener('click', () => {
      console.log("yessir");
      // console.log(document.getElementById('stats-select').value);

      Papa.parse("https://raw.githubusercontent.com/brettk10/brettk10.github.io/main/2023predictedStats.csv", {
        download: true,
        header: true,
        complete: function(results) {

          // console.log(results);
          // console.log(results.data[0]['Name']);
          let name = document.getElementById('stats-select').value;
          let table = document.getElementById('table-locator');
          for(var i = 0; i < results.data.length; i++) {
            if(results.data[i]['Name'].toLowerCase() === name.toLowerCase()) {
              let row = table.insertRow(1);
              let cellName = row.insertCell(0);
              let cellPPG = row.insertCell(1);
              let cellAPG = row.insertCell(2);
              let cellRBG = row.insertCell(3);
              let cellFG = row.insertCell(4);
              let cell3P = row.insertCell(5);
              let cellFT = row.insertCell(6);
              cellName.innerHTML = results.data[i]['Name'];
              cellPPG.innerHTML = results.data[i]['PPG'];
              cellAPG.innerHTML = results.data[i]['APG'];
              cellRBG.innerHTML = results.data[i]['RBG'];
              cellFG.innerHTML = results.data[i]['FG%'];
              cell3P.innerHTML = results.data[i]['3PT%'];
              cellFT.innerHTML = results.data[i]['FT%'];
            }
          }
          // for(var i = 0; i < results.data.length)
          /*
          results.data.map((data, index) => {
            let name = document.getElementById('stats-select.value');
            let table = document.getElementById('table-locator');
            data.map((row, index) => {
              if (row[0] === name) {
                let newRow = table.insertRow(-1);
                let newCell = newRow.insertCell();
                let newText = document.createTextNode(row);
                newCell.appendChild(newText);
              }
            });
          });
          */
        }

      });

    });
    /*
    function findAndReturnPlayer(data) {

      let name = document.getElementById('stats-select.value');
      let table = document.getElementById('table-locator');
			data.map((row, index) => {
        if (row[0] === name) {
          let newRow = table.insertRow(-1);
  				let newCell = newRow.insertCell();
  				let newText = document.createTextNode(row);
  				newCell.appendChild(newText);
        }
			});
    }
    */

    console.log("Stephen Curry");
  </script>


</html>
